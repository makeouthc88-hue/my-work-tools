<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœå‹™è³‡è¨Šè‡ªå‹•æ’ç‰ˆç”Ÿæˆå™¨ (V8)</title>
    <style>
        body { font-family: 'Microsoft JhengHei', 'Segoe UI', sans-serif; background-color: #f4f7f6; padding: 20px; }
        .container { max-width: 900px; margin: 0 auto; background: white; padding: 25px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        
        /* æ¨™é¡Œèˆ‡å°èˆªå€å¡Š */
        .header-box { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #007bff; padding-bottom: 10px; margin-bottom: 20px; margin-top: 10px; }
        h2 { color: #007bff; margin: 0; }
        .btn-back { text-decoration: none; background-color: #6c757d; color: white; padding: 8px 15px; border-radius: 5px; font-size: 14px; transition: 0.2s; }
        .btn-back:hover { background-color: #5a6268; }

        textarea, input[type="text"] { width: 100%; padding: 10px; margin-bottom: 15px; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; resize: vertical; font-family: 'Microsoft JhengHei', sans-serif; }
        .input-group label { font-weight: bold; display: block; margin-bottom: 5px; color: #333; }
        
        /* ç”ŸæˆæŒ‰éˆ• */
        .btn-generate { background-color: #28a745; color: white; padding: 12px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; transition: background-color 0.3s; margin-top: 10px; width: 100%; font-weight: bold; }
        .btn-generate:hover { background-color: #218838; }
        
        #output-container { margin-top: 30px; border-top: 1px solid #eee; padding-top: 20px; }
        #output-area { background-color: #e9ecef; border: 1px dashed #6c757d; padding: 20px; min-height: 200px; white-space: pre-wrap; word-break: break-word; border-radius: 5px; font-family: monospace; font-size: 14px; line-height: 1.5; }
    </style>
</head>
<body>

<div class="container">
    <div class="header-box">
        <h2>ğŸ“‹ æœå‹™è³‡è¨Šåˆ†å€è¼¸å…¥ (V8)</h2>
        <a href="index.html" class="btn-back">â†© å›é¦–é </a>
    </div>

    <p style="color:#666; font-size: 0.9em; margin-bottom: 20px;">èªªæ˜ï¼šèº«é«”å¯†ç¢¼å€å¡Šæ”¯æ´ã€Œæ™ºæ…§åˆ†è¡Œã€ï¼Œè‹¥æ ¼å¼æ­£ç¢ºå°‡è‡ªå‹•æ‹†åˆ†ç‚ºä¸‰è¡Œé¡¯ç¤ºã€‚</p>

    <div class="input-group">
        <label for="input-name">å§“å (e.g., ã€THã€‘æ¥ æ¥ )</label>
        <input type="text" id="input-name" placeholder="è«‹è¼¸å…¥å§“å">
    </div>

    <div class="input-group">
        <label for="input-features">âœ¨ å¸ç›ç‰¹è‰² (è«‹è²¼ä¸Šæ‰€æœ‰æ–‡æ¡ˆï¼Œå¯å¤šè¡Œ)</label>
        <textarea id="input-features" rows="4" placeholder="e.g., Jç½©æ¯å¥¶æ³¡æ»‘åˆ°è®Šæ…‹..."></textarea>
    </div>

    <div class="input-group">
        <label for="input-body">ğŸ’– èº«é«”å¯†ç¢¼ (è«‹è²¼ä¸Šæ‰€æœ‰è³‡è¨Š)</label>
        <textarea id="input-body" rows="3" placeholder="æ ¼å¼ç¯„ä¾‹ï¼šèº«é«”å¯†ç¢¼:160/50/E/21 æºé€šèªè¨€:ä¸­æ–‡ ä¸Šç­æ™‚æ®µã€12:00~20:00ã€‘">èº«é«”å¯†ç¢¼
æºé€šèªè¨€: è‹±æ–‡æºé€š 
ä¸Šç­æ™‚æ®µã€13:00~02:00ã€‘</textarea>
    </div>

    <div class="input-group">
        <label for="input-core-services">ğŸ‘‘ æ ¸å¿ƒæœå‹™ (All-in-One)</label>
        <textarea id="input-core-services" rows="4" placeholder="e.g., å…±æµ´/æŒ‰æ‘©/æ°´ä¸­ç°«/ç„¡å¥—å¹/èˆŒå»..."></textarea>
    </div>

    <div class="input-group">
        <label for="input-special-services">ğŸ ç‰¹åˆ¥æœå‹™ (ä¸€è¡Œä¸€å€‹)</label>
        <textarea id="input-special-services" rows="3">â­ï¸å…è²»æŒ‘é€—è‰·èˆ
â­ï¸é…åˆæƒ…è¶£ç”¨å“ (å®¢è‡ªå‚™)</textarea>
    </div>
    
    <div class="input-group">
        <label for="input-packages">ğŸ’° æ–¹æ¡ˆé¸æ“‡ (ç•™ç™½å°‡ä½¿ç”¨é è¨­å€¼)</label>
        <textarea id="input-packages" rows="4" placeholder="e.g., ğŸ”…40ğŸ’²2300_1s&#10;ğŸ”…60ğŸ’²2700_1s"></textarea>
    </div>

    <div class="input-group">
        <label for="input-addons">âœ… åŠ å€¼æœå‹™ (è¼¸å…¥é …ç›®å³å¯ï¼Œç¨‹å¼æœƒè‡ªå‹•ç§»é™¤é‡è¤‡çš„âœ…)</label>
        <textarea id="input-addons" rows="2">âœ…é¡å°„+500
âœ…ç„¡å¥—å…§å°„+1000</textarea>
    </div>

    <div class="input-group">
        <label for="input-longterm">â³ é•·é¾æ–¹æ¡ˆ</label>
        <textarea id="input-longterm" rows="2">3+1
5+3</textarea>
    </div>

    <button onclick="generateOutput()" class="btn-generate">ç”Ÿæˆæ’ç‰ˆçµæœ</button>

    <div id="output-container">
        <h3>ğŸ“ æ’ç‰ˆçµæœ (è«‹å…¨é¸è¤‡è£½)</h3>
        <textarea id="output-area" rows="25" readonly onclick="this.select()"></textarea>
    </div>
</div>

<script>
    function generateOutput() {
        // 1. ç²å–æ‰€æœ‰è¼¸å…¥
        const nameInput = document.getElementById('input-name').value.trim();
        const featuresInput = document.getElementById('input-features').value.trim();
        const bodyInput = document.getElementById('input-body').value.trim();
        const coreServicesInput = document.getElementById('input-core-services').value.trim();
        const specialServicesInput = document.getElementById('input-special-services').value.trim();
        const packagesInput = document.getElementById('input-packages').value.trim();
        const addonsInput = document.getElementById('input-addons').value.trim();
        const longtermInput = document.getElementById('input-longterm').value.trim();

        // 2. æ•¸æ“šæ¸…æ´—èˆ‡æº–å‚™
        const nameMatch = nameInput.match(/ã€(.*?)ã€‘(.*)/);
        const nameOutput = nameMatch ? `ã€${nameMatch[1]}ã€‘${nameMatch[2].trim()}` : nameInput;
        
        // èº«é«”å¯†ç¢¼è½‰æ› (V8 å½ˆæ€§åˆ†è¡Œé‚è¼¯)
        let bodyOutput = 'ğŸ’– èº«é«”å¯†ç¢¼\n';
        if (bodyInput) {
            // ä½¿ç”¨æ­£è¦è¡¨é”å¼åˆ†é›¢ä¸‰å€‹éƒ¨åˆ†
            const match = bodyInput.match(/(èº«é«”å¯†ç¢¼:.*?)\s(æºé€šèªè¨€:.*?)\s(ä¸Šç­æ™‚æ®µã€.*?ã€‘)/);
            
            if (match) {
                // æ•¸æ“šå­˜åœ¨ï¼Œè¼¸å‡ºä¸‰è¡Œ
                const bodyData = match[1].trim(); 
                const langData = match[2].trim(); 
                const timeData = match[3].trim(); 

                const hasBodyData = bodyData.match(/:(\s*\d+\/\d+\/.*)/); 
                
                if (hasBodyData && hasBodyData[1].trim() !== '') {
                    bodyOutput += `${bodyData}\n`;
                }
                if (langData && langData.length > 10) { 
                    bodyOutput += `${langData}\n`;
                }
                if (timeData && timeData.length > 8) { 
                    bodyOutput += `${timeData}\n`;
                }
            } else {
                // å¦‚æœæ ¼å¼ä¸åŒ¹é…ï¼Œç›´æ¥åˆ†è¡Œ
                const lines = bodyInput.split('\n').map(l => l.trim()).filter(l => l.length > 0);
                lines.forEach(line => {
                    if (line.startsWith('èº«é«”å¯†ç¢¼:') && line.length <= 5) return;
                    bodyOutput += `${line}\n`;
                });
            }
        }
        bodyOutput += '\n';

        // æ–¹æ¡ˆé¸æ“‡ (å›ºå®šå€¼è™•ç†)
        const fixedPackages = `æ–¹æ¡ˆé¸æ“‡:\nğŸ”…40ğŸ’²2300_1s\nğŸ”…60ğŸ’²2700_1s\nğŸ”…60ğŸ’²3300_2s\nğŸ”…120ğŸ’²4800-3s`;
        const packagesOutput = packagesInput ? `ğŸ’° æ–¹æ¡ˆé¸æ“‡ (1s = 1æ¬¡)\n${packagesInput}` : `ğŸ’° æ–¹æ¡ˆé¸æ“‡ (1s = 1æ¬¡)\n${fixedPackages}`;

        // 3. ç”Ÿæˆ ç´”æ–‡å­— å…§å®¹
        let outputText = '';
        outputText += `${nameOutput}\n\n`;
        outputText += `âœ¨ å¸ç›ç‰¹è‰²\n${featuresInput}\n\n`;
        outputText += bodyOutput;
        outputText += `ğŸ‘‘ æ ¸å¿ƒæœå‹™ (All-in-One)\n${coreServicesInput}\n\n`;
        outputText += `ğŸ ç‰¹åˆ¥æœå‹™\n${specialServicesInput}\n\n`;
        outputText += packagesOutput + '\n\n';
        
        outputText += `âœ… åŠ å€¼æœå‹™\n`;
        const cleanAddons = addonsInput.split('\n').map(a => a.trim().replace(/âœ…\s*/g, '')).join('\n');
        outputText += cleanAddons + '\n\n';

        outputText += `é•·é¾\n${longtermInput}`;

        document.getElementById('output-area').value = outputText;
    }
</script>

</body>
</html>